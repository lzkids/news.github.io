var searchFunc=function(t,r,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),t=document.getElementById(r),n=document.getElementById(s);t.addEventListener("input",function(){var o='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n,e,r,s=!0,l=t.title.trim().toLowerCase(),a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=t.url,c=-1,u=-1;""!=l&&""!=a&&h.forEach(function(t,e){n=l.indexOf(t),c=a.indexOf(t),n<0&&c<0?s=!1:(c<0&&(c=0),0==e&&(u=c))}),s&&(o+="<li><a href='"+i+"' class='search-result-title'>"+l+"</a>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=u&&((i=(i=u-30)<0?0:i)+(t=78)>e.length&&(e.length<t?t=e.length-i:i=e.length-t),r=e.substr(i,t),h.forEach(function(t){var e=new RegExp(t,"gi");r=r.replace(e,'<em class="search-keyword">'+t+"</em>")}),o+='<p class="search-result">'+r+"...</p>"),o+="</li>")}),o+="</ul>",n.innerHTML=o)})}})};